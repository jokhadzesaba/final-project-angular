"use strict";(self.webpackChunkfinalProject=self.webpackChunkfinalProject||[]).push([[891],{891:(S,g,r)=>{r.r(g),r.d(g,{ExercisesModule:()=>Q});var _=r(2895),e=r(4946),u=r(9862);let h=(()=>{class n{constructor(t){this.http=t,this.url="https://exercise-app-9b873-default-rtdb.europe-west1.firebasedatabase.app"}getExercises(t){return this.http.get(`${this.url}/exercises/${t}.json`)}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(u.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var m=r(6593),f=r(2032),C=r(4046),l=r(6814),a=r(6223);function v(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.startCreatingPlan())}),e._uU(1,"Create your plan"),e.qZA()}}function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createPlan())}),e._uU(1,"Confirm"),e.qZA()}}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.startCreatingPlan())}),e._uU(1,"Cancel"),e.qZA()}}function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.confirm())}),e._uU(1,"Add Exercise to Existing Plan"),e.qZA()}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.creatingPlanForCertainUser())}),e._uU(1,"Create Plan For User"),e.qZA()}}function y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"input",16),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw(2);return e.KtG(c.planName=s)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.planName)}}function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"textarea",17),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw(2);return e.KtG(c.planDescription=s)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.planDescription)}}function T(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function w(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.selected=s)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.selected)}}function Z(n,o){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,w,1,1,"input",25),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e._UZ(8,"img",26),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("ngIf",i.creatingPlan||i.addingExercise),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("Target: ",t.target,""),e.xp6(2),e.hij("Equipment: ",t.equipment,""),e.xp6(1),e.s9C("alt",t.name),e.Q6J("src",i.sanitizeUrl(t.gifUrl),e.LSH)}}function N(n,o){if(1&n&&(e.TgZ(0,"div",20)(1,"div",21)(2,"h2"),e._uU(3),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,Z,9,6,"div",23),e.ALo(6,"slice"),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(3),e.Oqu(t),e.xp6(2),e.Q6J("ngForOf",e.Dn7(6,2,i.exercises[t],0,30))}}function J(n,o){if(1&n&&(e.ynx(0),e.YNc(1,N,7,6,"div",19),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.bodyParts)}}function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.selected=s)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.selected)}}function U(n,o){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,F,1,1,"input",25),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e._UZ(8,"img",26),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.creatingPlan||i.addingExercise),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("Target: ",t.target,""),e.xp6(2),e.hij("Equipment: ",t.equipment,""),e.xp6(1),e.s9C("alt",t.name),e.Q6J("src",i.sanitizeUrl(t.gifUrl),e.LSH)}}function A(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",20)(2,"div",21)(3,"div",22),e.YNc(4,U,9,6,"div",23),e.ALo(5,"slice"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",e.Dn7(5,1,t.exercises[t.sortBodyPart],0,30))}}function I(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,v,2,0,"button",3),e.YNc(3,b,2,0,"button",4),e.YNc(4,P,2,0,"button",5),e.YNc(5,M,2,0,"button",3),e.YNc(6,E,2,0,"button",3),e.qZA(),e.YNc(7,y,2,1,"div",6),e.YNc(8,O,2,1,"div",6),e.TgZ(9,"div",7)(10,"select",8),e.NdJ("ngModelChange",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.sortBodyPart=s)}),e.TgZ(11,"option",9),e._uU(12,"Sort by"),e.qZA(),e.YNc(13,T,2,2,"option",10),e.qZA()(),e.YNc(14,J,2,1,"ng-container",11),e.YNc(15,A,6,5,"ng-container",11),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngIf","guest"!==t.status),e.xp6(1),e.Q6J("ngIf",i.creatingPlan),e.xp6(1),e.Q6J("ngIf",i.creatingPlan),e.xp6(1),e.Q6J("ngIf",i.addingExercise),e.xp6(1),e.Q6J("ngIf",i.makingPlanForUser),e.xp6(1),e.Q6J("ngIf",i.creatingPlan),e.xp6(1),e.Q6J("ngIf",i.creatingPlan),e.xp6(2),e.Q6J("ngModel",i.sortBodyPart),e.xp6(3),e.Q6J("ngForOf",i.bodyParts),e.xp6(1),e.Q6J("ngIf",!i.sortBodyPart),e.xp6(1),e.Q6J("ngIf",i.sortBodyPart)}}const q=[{path:"",component:(()=>{class n{constructor(t,i,s,c,d,x,p){this.exerciseService=t,this.sanitizer=i,this.cd=s,this.router=c,this.service=d,this.sharedService=x,this.route=p,this.bodyParts=["waist","upperLegs","back","lowerLegs","chest","upperArms","cardio","shoulders","lowerArms","neck"],this.status="",this.planName="",this.planDescription="",this.creatingPlan=!1,this.makingPlanForUser=!1,this.sortBodyPart="",this.exercises={}}ngOnInit(){this.loggedObservable=this.service.loggedUser,this.showExercises(),this.service.loggedUser.subscribe(t=>{this.status=t.status,console.log(this.status)}),this.sharedService.creatingPlan$.subscribe(t=>{this.creatingPlan=t}),this.sharedService.addingExercise$.subscribe(t=>{this.addingExercise=t}),this.sharedService.makingPlanForUser$.subscribe(t=>{this.makingPlanForUser=t})}showExercises(){this.bodyParts.forEach(t=>{this.exerciseService.getExercises(t).subscribe(i=>{this.exercises={...this.exercises,[t]:i},this.sortExercises(),console.log(this.exercises),this.cd.detectChanges()})})}sortExercises(){if(this.sortBodyPart){const t={};t[this.sortBodyPart]=this.exercises[this.sortBodyPart],this.exercises=t}else this.bodyParts.forEach(t=>{this.exercises[t]&&this.exercises[t].sort((i,s)=>i.name.localeCompare(s.name))})}startCreatingPlan(){this.creatingPlan=!this.creatingPlan,this.makingPlanForUser=!1}getSelectedExercises(){const t=[];return this.bodyParts.forEach(i=>{this.exercises[i].forEach(c=>{c.selected&&(c.selected=!1,t.push(c))})}),t}createPlan(){const t=this.getSelectedExercises();console.log(t);const i=this.sharedService.generateUniqueId();"user"===this.status?this.service.addPlan(t,this.planName,this.planDescription,i,"users"):"coach"===this.status&&this.service.addPlan(t,this.planName,this.planDescription,i,"coaches"),this.creatingPlan=!1,this.planName=""}sanitizeUrl(t){return this.sanitizer.bypassSecurityTrustUrl(t)}confirm(){const t=this.getSelectedExercises();this.service.addExercisesToPlan(t,"users",this.id),this.sharedService.ifchanged(!0),this.router.navigate(["/user-info"]),this.sharedService.addexercise(!1)}creatingPlanForCertainUser(){const t=this.getSelectedExercises();this.route.queryParams.subscribe(i=>{Number(i.userId);const c=i.coachName,d=i.coachLastName;Number(i.coachId),this.service.sendPlanToUser("userId","coachId",c,d,i.nickName,this.planName,i.requestId,this.planDescription,t),this.sharedService.setCreatingPlan(!1),this.sharedService.makingplanForUser(!1),this.router.navigate(["/single-coach-info"])})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(h),e.Y36(m.H7),e.Y36(e.sBO),e.Y36(_.F0),e.Y36(f.g),e.Y36(C.F),e.Y36(_.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-exercises"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"button-row"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","input-row",4,"ngIf"],[1,"select-row"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"input-row"],["type","text","placeholder","Enter plan name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter plan description",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["class","body-part-row",4,"ngFor","ngForOf"],[1,"body-part-row"],[1,"body-part"],[1,"exercise-row"],["class","exercise",4,"ngFor","ngForOf"],[1,"exercise"],["type","checkbox",3,"ngModel","ngModelChange",4,"ngIf"],[3,"src","alt"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(i,s){1&i&&(e.YNc(0,I,16,11,"div",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,s.loggedObservable))},dependencies:[l.sg,l.O5,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On,l.Ov,l.OU],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:40px}.container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px;font-size:16px;padding:8px 16px;border-radius:5px}.container[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:350px;font-size:16px;padding:10px;border-radius:5px}.container[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:350px;font-size:16px;padding:10px;border-radius:5px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]{width:100%;max-width:800px;border:2px solid #ddd;border-radius:10px;padding:30px;margin-bottom:40px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin-bottom:20px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   .exercise-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   .exercise-row[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]{flex-basis:calc(33.33% - 40px);text-align:center;border:2px solid #ddd;border-radius:10px;padding:20px;margin:20px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   .exercise-row[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;margin-top:20px;border-radius:10px}"],changeDetection:0})}return n})()}];let k=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(q),_.Bz]})}return n})(),Q=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[l.ez],imports:[k]})}return n})()}}]);