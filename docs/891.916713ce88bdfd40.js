"use strict";(self.webpackChunkfinalProject=self.webpackChunkfinalProject||[]).push([[891],{891:(Y,g,c)=>{c.r(g),c.d(g,{ExercisesModule:()=>k});var _=c(2895),t=c(4946),x=c(9862);let u=(()=>{class i{constructor(e){this.http=e,this.url="https://exercise-app-9b873-default-rtdb.europe-west1.firebasedatabase.app"}getExercises(e){return this.http.get(`${this.url}/exercises/${e}.json`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(x.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var h=c(6593),f=c(2032),m=c(4046),l=c(6814),a=c(6223);function C(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.startCreatingPlan())}),t._uU(1," Create your plan "),t.qZA()}}function v(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.createPlan())}),t._uU(1," Confirm "),t.qZA()}}function b(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.startCreatingPlan())}),t._uU(1," Cancel "),t.qZA()}}function P(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.confirm())}),t._uU(1," Add Exercise to Existing Plan "),t.qZA()}}function M(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.creatingPlanForCertainUser())}),t._uU(1," Create Plan For User "),t.qZA()}}function E(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"input",16),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r.planName=s)}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.planName)}}function y(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"textarea",17),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r.planDescription=s)}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.planDescription)}}function O(i,o){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function T(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"input",27),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.selected=s)}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("ngModel",e.selected)}}function Z(i,o){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,T,1,1,"input",25),t.TgZ(2,"p")(3,"strong"),t._uU(4,"Target:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"strong"),t._uU(8,"Equipment:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"p")(11,"strong"),t._uU(12,"Name:"),t.qZA(),t._uU(13),t.qZA(),t._UZ(14,"img",26),t.qZA()),2&i){const e=o.$implicit,n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",n.creatingPlan||n.addingExercise),t.xp6(4),t.hij(" ",e.target,""),t.xp6(4),t.hij(" ",e.equipment,""),t.xp6(4),t.hij(" ",e.name,""),t.xp6(1),t.s9C("alt",e.name),t.Q6J("src",n.sanitizeUrl(e.gifUrl),t.LSH)}}function w(i,o){if(1&i&&(t.TgZ(0,"div",20)(1,"div",21)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",22),t.YNc(5,Z,15,6,"div",23),t.ALo(6,"slice"),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw(3);t.xp6(3),t.Oqu(e),t.xp6(2),t.Q6J("ngForOf",t.Dn7(6,2,n.exercises[e],0,50))}}function J(i,o){if(1&i&&(t.ynx(0),t.YNc(1,w,7,6,"div",19),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.bodyParts)}}function N(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"input",27),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.selected=s)}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("ngModel",e.selected)}}function U(i,o){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,N,1,1,"input",25),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._UZ(8,"img",26),t.qZA()),2&i){const e=o.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.creatingPlan||n.addingExercise),t.xp6(2),t.hij("Target: ",e.target,""),t.xp6(2),t.hij("Equipment: ",e.equipment,""),t.xp6(2),t.hij("Name: ",e.name,""),t.xp6(1),t.s9C("alt",e.name),t.Q6J("src",n.sanitizeUrl(e.gifUrl),t.LSH)}}function F(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",20)(2,"div",21)(3,"div",22),t.YNc(4,U,9,6,"div",23),t.ALo(5,"slice"),t.qZA()()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",t.Dn7(5,1,e.exercises[e.sortBodyPart],0,50))}}function A(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,C,2,0,"button",3),t.YNc(3,v,2,0,"button",4),t.YNc(4,b,2,0,"button",5),t.YNc(5,P,2,0,"button",3),t.YNc(6,M,2,0,"button",3),t.qZA(),t.YNc(7,E,2,1,"div",6),t.YNc(8,y,2,1,"div",6),t.TgZ(9,"div",7)(10,"select",8),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.sortBodyPart=s)}),t.TgZ(11,"option",9),t._uU(12,"Sort by"),t.qZA(),t.YNc(13,O,2,2,"option",10),t.qZA()(),t.YNc(14,J,2,1,"ng-container",11),t.YNc(15,F,6,5,"ng-container",11),t.qZA()}if(2&i){const e=o.ngIf,n=t.oxw();t.xp6(2),t.Q6J("ngIf","guest"!==e.status),t.xp6(1),t.Q6J("ngIf",n.creatingPlan),t.xp6(1),t.Q6J("ngIf",n.creatingPlan),t.xp6(1),t.Q6J("ngIf",n.addingExercise),t.xp6(1),t.Q6J("ngIf",n.makingPlanForUser),t.xp6(1),t.Q6J("ngIf",n.creatingPlan),t.xp6(1),t.Q6J("ngIf",n.creatingPlan),t.xp6(2),t.Q6J("ngModel",n.sortBodyPart),t.xp6(3),t.Q6J("ngForOf",n.bodyParts),t.xp6(1),t.Q6J("ngIf",!n.sortBodyPart),t.xp6(1),t.Q6J("ngIf",n.sortBodyPart)}}const I=[{path:"",component:(()=>{class i{constructor(e,n,s,r,d,p,Q){this.exerciseService=e,this.sanitizer=n,this.cd=s,this.router=r,this.service=d,this.sharedService=p,this.route=Q,this.bodyParts=["waist","upperLegs","back","lowerLegs","chest","upperArms","cardio","shoulders","lowerArms","neck"],this.status="",this.planName="",this.planDescription="",this.creatingPlan=!1,this.makingPlanForUser=!1,this.sortBodyPart="",this.exercises={}}ngOnInit(){this.loggedObservable=this.service.loggedUser,this.showExercises(),this.service.loggedUser.subscribe(e=>{this.status=e.status}),this.sharedService.creatingPlan$.subscribe(e=>{this.creatingPlan=e}),this.sharedService.addingExercise$.subscribe(e=>{this.addingExercise=e}),this.sharedService.makingPlanForUser$.subscribe(e=>{this.makingPlanForUser=e})}showExercises(){this.bodyParts.forEach(e=>{this.exerciseService.getExercises(e).subscribe(n=>{this.exercises={...this.exercises,[e]:n},this.sortExercises(),this.cd.detectChanges()})})}sortExercises(){if(this.sortBodyPart){const e={};e[this.sortBodyPart]=this.exercises[this.sortBodyPart],this.exercises=e}else this.bodyParts.forEach(e=>{this.exercises[e]&&this.exercises[e].sort((n,s)=>n.name.localeCompare(s.name))})}startCreatingPlan(){this.creatingPlan=!this.creatingPlan,this.makingPlanForUser=!1}getSelectedExercises(){const e=[];return this.bodyParts.forEach(n=>{this.exercises[n].forEach(r=>{r.selected&&(r.selected=!1,e.push(r))})}),e}countBodyParts(e){const n={};return e.forEach(s=>{n[s.bodyPart]?n[s.bodyPart]++:n[s.bodyPart]=1}),this.findMaxCount(n)}findMaxCount(e){let n=0,s="";for(const[r,d]of Object.entries(e))d>n&&(n=d,s=r);return s}createPlan(){const e=this.getSelectedExercises(),n=this.countBodyParts(e),s=this.sharedService.generateUniqueId(5);"user"===this.status?this.service.addPlan(e,this.planName,this.planDescription,n,s,"users"):"coach"===this.status&&this.service.addPlan(e,this.planName,this.planDescription,n,s,"coaches"),this.creatingPlan=!1,this.planName="",this.planDescription=""}sanitizeUrl(e){return this.sanitizer.bypassSecurityTrustUrl(e)}confirm(){const e=this.getSelectedExercises();this.service.addExercisesToPlan(e,"users",this.id),this.sharedService.ifchanged(!0),this.router.navigate(["/user-info"]),this.sharedService.addexercise(!1)}creatingPlanForCertainUser(){const e=this.getSelectedExercises();this.route.queryParams.subscribe(n=>{const s=String(n.userId),r=String(n.coachId);this.service.sendPlanToUser(s,r,n.nickName,this.planName,n.requestId,this.planDescription,e),this.sharedService.setCreatingPlan(!1),this.sharedService.makingplanForUser(!1),this.router.navigate([`/single-coach-info/${this.service.firebaseId}`])})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(u),t.Y36(h.H7),t.Y36(t.sBO),t.Y36(_.F0),t.Y36(f.g),t.Y36(m.F),t.Y36(_.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-exercises"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"button-row"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","input-row",4,"ngIf"],[1,"select-row"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"input-row"],["type","text","placeholder","Enter plan name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter plan description",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["class","body-part-row",4,"ngFor","ngForOf"],[1,"body-part-row"],[1,"body-part"],[1,"exercise-row"],["class","exercise",4,"ngFor","ngForOf"],[1,"exercise"],["type","checkbox",3,"ngModel","ngModelChange",4,"ngIf"],[3,"src","alt"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(t.YNc(0,A,16,11,"div",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,s.loggedObservable))},dependencies:[l.sg,l.O5,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On,l.Ov,l.OU],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:40px;color:#fff}.container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px;font-size:16px;padding:8px 16px;border-radius:5px}.container[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:350px;font-size:16px;padding:10px;border-radius:5px}.container[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.container[_ngcontent-%COMP%]   .select-row[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:350px;font-size:16px;padding:10px;border-radius:5px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-radius:12px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]{background-color:#3d3939;width:100%;max-width:1000px;border:2px solid #ddd;border-radius:10px;padding:30px;margin-bottom:40px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin-bottom:20px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   .exercise-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   .exercise-row[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]{flex-basis:calc(33.33% - 40px);text-align:center;border:2px solid #ddd;border-radius:10px;padding:20px;margin:20px}.container[_ngcontent-%COMP%]   .body-part-row[_ngcontent-%COMP%]   .body-part[_ngcontent-%COMP%]   .exercise-row[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;max-height:200px;margin-top:20px;border-radius:10px}"],changeDetection:0})}return i})()}];let q=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(I),_.Bz]})}return i})(),k=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({providers:[l.ez],imports:[q]})}return i})()}}]);